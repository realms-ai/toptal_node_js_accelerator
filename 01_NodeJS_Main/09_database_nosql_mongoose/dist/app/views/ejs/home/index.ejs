<%- include('../includes/_head.ejs') %> <%- include('../includes/_header.ejs')
%>
<h1 class="heading-1">Shop Page</h1>
<div class="main-content__text">
  <% if (products.length > 0) { %>
  <section class="products">
    <% products.forEach((product, index) => { %>
    <div class="product-card">
      <img src=<%= product.imageUrl ||
      "https://img.freepik.com/free-photo/table-top-isolate_1404-218.jpg" %>
      class="product-card__image" alt="Product Image" />
      <h3 class="heading-3 product-card__title">
        <%= product.title || 'Missing Title' %>
      </h3>
      <div class="product-card__content">
        <h5 class="heading-5 product-card__price">
          $<%= product.price || 'N/A' %>
        </h5>
        <p class="product-card__description">
          <%= product.description || 'Missing Description' %>
        </p>
      </div>
      <div class="product-card__actions">
        <form action="/cart" method="POST">
          <input type="hidden" name="id" value="<%= product._id %>" />
          <button class="btn btn-primary">Add To Cart</button>
        </form>
      </div>
    </div>
    <% }) %>
  </section>
  <% } else { %>
  <p>No product to show</p>
  <% } %>
</div>
<%- include('../includes/_end.ejs') %>
